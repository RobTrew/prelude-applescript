{
  "title": "appendFile",
  "cells": [
    {
      "type": "code",
      "language": "applescript",
      "data": "-- Write a string to the end of a file. \n-- Returns true if the path exists \n-- and the write succeeded. \n-- Otherwise returns false."
    },
    {
      "type": "code",
      "language": "applescript",
      "data": "-- appendFile :: FilePath -> String -> IO Bool\non appendFile(strPath, txt)\n    set ca to current application\n    set oFullPath to (ca's NSString's stringWithString:strPath)'s ¬\n        stringByStandardizingPath\n    set {blnExists, intFolder} to (ca's NSFileManager's defaultManager()'s ¬\n        fileExistsAtPath:oFullPath isDirectory:(reference))\n    if blnExists then\n        if 0 = intFolder then\n            set oData to (ca's NSString's stringWithString:txt)'s ¬\n                dataUsingEncoding:(ca's NSUTF8StringEncoding)\n            set h to ca's NSFileHandle's fileHandleForWritingAtPath:oFullPath\n            h's seekToEndOfFile\n            h's writeData:oData\n            h's closeFile()\n            true\n        else\n            -- text appended to folder is undefined\n            false\n        end if\n    else\n        if doesDirectoryExist(takeDirectory(oFullPath as string)) then\n            writeFile(oFullPath, txt)\n            true\n        else\n            false\n        end if\n    end if\nend appendFile"
    }
  ]
}