{
  "title": "transpose",
  "cells": [
    {
      "type": "code",
      "language": "applescript",
      "data": "-- If some of the rows are shorter than the following rows, \n-- their elements are skipped:\n-- transpose({{10,11},{20},{},{30,31,32}}) -> {{10, 20, 30}, {11, 31}, {32}}"
    },
    {
      "type": "code",
      "language": "applescript",
      "data": "-- transpose :: [[a]] -> [[a]]\ron transpose(xxs)\r\tset intMax to |length|(maximumBy(comparing(my |length|), xxs))\r\tset gaps to replicate(intMax, {})\r\tscript padded\r\t\ton |λ|(xs)\r\t\t\tset lng to |length|(xs)\r\t\t\tif lng < intMax then\r\t\t\t\tappend(xs, items (lng + 1) thru -1 of gaps)\r\t\t\telse\r\t\t\t\txs\r\t\t\tend if\r\t\tend |λ|\r\tend script\r\tset rows to map(padded, xxs)\r\t\r\tscript cols\r\t\ton |λ|(_, iCol)\r\t\t\tscript cell\r\t\t\t\ton |λ|(row)\r\t\t\t\t\titem iCol of row\r\t\t\t\tend |λ|\r\t\t\tend script\r\t\t\tconcatMap(cell, rows)\r\t\tend |λ|\r\tend script\r\tmap(cols, item 1 of rows)\rend transpose"
    }
  ]
}