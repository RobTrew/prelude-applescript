{
  "title": "breakOn",
  "cells": [
    {
      "type": "code",
      "language": "applescript",
      "data": "-- non null needle -> haystack -> (prefix before match, match + rest)"
    },
    {
      "type": "code",
      "language": "applescript",
      "data": "-- breakOn :: String -> String -> (String, String)\non breakOn(pat, src)\n    if pat ≠ \"\" then\n        set {dlm, my text item delimiters} to {my text item delimiters, pat}\n        \n        set lstParts to text items of src\n        set lngParts to length of lstParts\n        \n        if 1 < lngParts then\n            set tpl to Tuple(item 1 of lstParts, pat & ¬\n                ((items 2 thru -1 of lstParts) as text))\n        else\n            set tpl to Tuple(src, \"\")\n        end if\n        \n        set my text item delimiters to dlm\n        return tpl\n    else\n        missing value\n    end if\nend breakOn"
    }
  ]
}