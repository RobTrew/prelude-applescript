{
  "title": "breakOnMay",
  "cells": [
    {
      "type": "code",
      "language": "applescript",
      "data": "-- needle -> haystack -> maybe (prefix before match, match + rest)"
    },
    {
      "type": "code",
      "language": "applescript",
      "data": "-- breakOnMay :: String -> String -> Maybe (String, String)\non breakOnMay(pat, src)\n    if pat ≠ \"\" then\n        set {dlm, my text item delimiters} to {my text item delimiters, pat}\n        \n        set lstParts to text items of src\n        if length of lstParts > 1 then\n            set mbTuple to Just(Tuple(item 1 of lstParts, pat & ¬\n                ((items 2 thru -1 of lstParts) as text)))\n        else\n            set mbTuple to Just(Tuple(src, \"\"))\n        end if\n        \n        set my text item delimiters to dlm\n        return mbTuple\n    else\n        Nothing()\n    end if\nend breakOnMay"
    }
  ]
}