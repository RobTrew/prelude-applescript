{
  "title": "showJSON",
  "cells": [
    {
      "type": "code",
      "language": "applescript",
      "data": "-- showJSON :: a -> String\non showJSON(x)\n    set c to class of x\n    if (c is list) or (c is record) then\n        set ca to current application\n        set {json, e} to ca's NSJSONSerialization's dataWithJSONObject:x options:1 |error|:(reference)\n        if json is missing value then\n            e's localizedDescription() as text\n        else\n            (ca's NSString's alloc()'s initWithData:json encoding:(ca's NSUTF8StringEncoding)) as text\n        end if\n    else if c is date then\n        \"\\\"\" & ((x - (time to GMT)) as «class isot» as string) & \".000Z\" & \"\\\"\"\n    else if c is text then\n        \"\\\"\" & x & \"\\\"\"\n    else if (c is integer or c is real) then\n        x as text\n    else if c is class then\n        \"null\"\n    else\n        try\n            x as text\n        on error\n            (\"«\" & c as text) & \"»\"\n        end try\n    end if\nend showJSON"
    }
  ]
}