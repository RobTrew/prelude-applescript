{
  "title": "showJSON",
  "cells": [
    {
      "type": "code",
      "language": "applescript",
      "data": "-- showJSON :: a -> String\ron showJSON(x)\r\tset c to class of x\r\tif (c is list) or (c is record) then\r\t\tset ca to current application\r\t\tset {json, e} to ca's NSJSONSerialization's dataWithJSONObject:x options:1 |error|:(reference)\r\t\tif json is missing value then\r\t\t\te's localizedDescription() as text\r\t\telse\r\t\t\t(ca's NSString's alloc()'s initWithData:json encoding:(ca's NSUTF8StringEncoding)) as text\r\t\tend if\r\telse if c is date then\r\t\t\"\\\"\" & ((x - (time to GMT)) as «class isot» as string) & \".000Z\" & \"\\\"\"\r\telse if c is text then\r\t\t\"\\\"\" & x & \"\\\"\"\r\telse if (c is integer or c is real) then\r\t\tx as text\r\telse if c is class then\r\t\t\"null\"\r\telse\r\t\ttry\r\t\t\tx as text\r\t\ton error\r\t\t\t(\"«\" & c as text) & \"»\"\r\t\tend try\r\tend if\rend showJSON"
    }
  ]
}