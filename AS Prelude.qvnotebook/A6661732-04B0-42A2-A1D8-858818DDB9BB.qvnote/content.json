{
  "title": "readJSON",
  "cells": [
    {
      "type": "code",
      "language": "applescript",
      "data": "-- readJSON :: String -> a\non readJSON(strJSON)\n    set ca to current application\n    set {x, e} to ca's NSJSONSerialization's ¬\n        JSONObjectWithData:((ca's NSString's stringWithString:strJSON)'s ¬\n            dataUsingEncoding:(ca's NSUTF8StringEncoding)) ¬\n            options:0 |error|:(reference)\n    \n    if x is missing value then\n        error e's localizedDescription() as text\n    else\n        if x's isKindOfClass:(ca's NSDictionary) then\n            x as record\n        else\n            x as list\n        end if\n    end if\nend readJSON"
    }
  ]
}